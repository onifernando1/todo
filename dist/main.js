(()=>{"use strict";const e=e=>{const t=document.getElementById("content"),n=document.createElement("div");t.appendChild(n),((e,t)=>{const n=document.createElement("div");n.innerHTML=e.title,n.className="todo-title",t.appendChild(n)})(e,n),((e,t)=>{const n=document.createElement("div");n.innerHTML=e.description,n.className="todo-description",t.appendChild(n)})(e,n),((e,t)=>{const n=document.createElement("div");n.innerHTML=e.dueDate,n.className="todo-duedate",t.appendChild(n)})(e,n),((e,t)=>{const n=document.createElement("div");n.innerHTML=e.priority,n.className="todo-priority",t.appendChild(n)})(e,n)},t=e=>{const t=document.createElement("div");console.log(t),(()=>{const e=document.getElementById("projects-container");if(null!=e)for(;e.firstChild;)e.removeChild(e.lastChild)})(),(()=>{const e=document.getElementById("projects-container"),t=document.createElement("div");t.id="inner-projects-container",e.appendChild(t)})(),(e=>{e.forEach((e=>{const t=document.getElementById("inner-projects-container"),n=document.createElement("div");n.className="individual-project-container";const o=document.createElement("div");o.className="project-title",o.innerText=e.title;const c=document.createElement("button");c.className=`view-project-${e.id}`,c.textContent="View project",n.appendChild(c),n.appendChild(o),t.appendChild(n)}))})(e)},n=function(e){!function(){const e=document.getElementById("content");for(;e.firstChild;)e.removeChild(e.lastChild)}();const t=document.createElement("div");t.className="view-project-container",content.appendChild(t);const n=document.createElement("div");n.className="view-project-title",n.innerText=e.title,t.appendChild(n)},o=function(){const e=document.getElementById("content"),t=document.createElement("div");t.id="projects-container",e.appendChild(t)},c=function(){const e=document.getElementById("content"),t=document.createElement("div");t.className="new-project-form-container",e.appendChild(t);const n=document.createElement("form");n.id="new-project-form";const o=document.createElement("input");o.type="text",o.id="title",o.name="title";const c=document.createElement("label");c.htmlFor="title",c.innerText="New Project Title";const d=document.createElement("input");d.type="submit",d.id="submit",d.name="submit",n.appendChild(c),n.appendChild(o),n.appendChild(d),t.appendChild(n)},d=(()=>{const e=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.title,n.className="todo-title",t.appendChild(n)},t=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.description,n.className="todo-description",t.appendChild(n)},n=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.dueDate,n.className="todo-duedate",t.appendChild(n)},o=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.priority,n.className="todo-priority",t.appendChild(n)};return{newToDoForm:function(){const e=document.getElementsByClassName("view-project-container")[0],t=document.createElement("div");t.className="new-todo-form-container",e.appendChild(t);const n=document.createElement("form");n.id="new-todo-form";const o=document.createElement("label");o.htmlFor="title",o.innerText="Title";const c=document.createElement("input");c.type="text",c.id="title",c.name="title";const d=document.createElement("label");d.htmlFor="description",d.innerText="Description";const i=document.createElement("input");i.type="text",i.id="description",i.name="description";const l=document.createElement("label");l.htmlFor="dueDate",l.innerText="Due Date";const r=document.createElement("input");r.type="text",r.id="dueDate",r.name="dueDate";const a=document.createElement("label");a.htmlFor="priority",a.innerText="Priority";const m=document.createElement("input");m.type="text",m.id="priority",m.name="priority";const s=document.createElement("input");s.type="submit",s.id="submit",s.name="submit",n.appendChild(o),n.appendChild(c),n.appendChild(d),n.appendChild(i),n.appendChild(l),n.appendChild(r),n.appendChild(a),n.appendChild(m),n.appendChild(s),t.appendChild(n)},assignProjectId:function(e){const t=document.getElementById("new-todo-form"),n=document.createElement("input");n.type="hidden",n.id="projectId",n.name="projectId",n.value=e,t.appendChild(n)},showAllTodos:function(c){console.log("called"),function(){const e=document.getElementsByClassName("todo-container")[0],t=document.getElementById("content");e&&t.removeChild(e)}(),function(){const e=document.getElementById("content"),t=document.createElement("div");t.className="todo-container",e.appendChild(t)}(),function(c){const d=document.getElementsByClassName("todo-container")[0];c.forEach((c=>{e(c,d),t(c,d),n(c,d),o(c,d),function(e){const t=document.getElementsByClassName("todo-container")[0],n=document.createElement("button");n.className=`${e.id}`,n.innerHTML="delete",t.appendChild(n)}(c)}))}(c)}}})(),i=function(e){n(e)},l=function(e){let t=e.toDoArray;console.log("vtd outer called"),console.log(t),null!=t&&(d.showAllTodos(t),console.log("tododom called"))},r=(()=>{const e=[];return{showAllProjects:()=>{t(e),r.viewProjectListener()},projectArray:e,projectId:0,toDoId:0,viewProjectListener:function(){e.forEach((e=>{document.getElementsByClassName(`view-project-${e.id}`)[0].addEventListener("click",(()=>{i(e),d.newToDoForm(),d.assignProjectId(e.id),a().todoListener(),e.showToDos(),l(e)}))}))}}})(),a=function(e,t,n,o){const c="incomplete";let d=0;return d+=1,{title:e,description:t,dueDate:n,priority:o,toDoStatus:c,create:(e,t,n,o)=>{newToDo=toDo(e,t,n,o)},change:(e,t)=>{this[e]=t},toDoStatus:c,toDoid:1,projectId:"",todoListener:function(){document.getElementById("new-todo-form").addEventListener("submit",(e=>{e.preventDefault(),function(){const e=document.getElementById("title").value,t=document.getElementById("description").value,n=document.getElementById("dueDate").value,o=document.getElementById("priority").value,c=document.getElementById("projectId").value,d=a(e,t,n,o);d.projectId=c,d.id=1;let i=function(e){let t="";return r.projectArray.forEach((n=>{n.id==e&&(t=n)})),t}(c);i.toDoArray.push(d),console.log(i),l(i)}()}))}}},m=t=>{const n=[];return r.projectId+=1,{title:t,toDoArray:n,showToDos:()=>{n.forEach((t=>{e(t)}))},createFormListener:function(){document.getElementById("new-project-form").addEventListener("submit",(e=>{e.preventDefault(),function(){const e=document.getElementById("title").value,t=m(e);t.id=r.projectId,r.projectArray.push(t),r.showAllProjects()}()}))},id:""}},s=m("ABC"),p=a("abc","abc","abc","abc");o(),c(),s.toDoArray.push(p),s.showToDos(),r.showAllProjects(),s.createFormListener()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LG1CQWRYLFdBQ0Z6RyxTQUFTQyxlQUFlLG9CQUNoQ2tGLGlCQUFpQixVQUFXWSxJQUN6Q0EsRUFBTUMsaUJBZmUsV0FDdkIsTUFBTVUsRUFBaUIxRyxTQUFTQyxlQUFlLFNBQVNnRSxNQUNsRDBDLEVBQWFILEVBQVFFLEdBQzNCQyxFQUFXL0UsR0FBS21ELEVBQWVoQixVQUMvQmdCLEVBQWU1RCxhQUFhbUYsS0FBS0ssR0FDakM1QixFQUFlQyxpQkFDakIsQ0FVSTRCLEVBQWtCLEdBRXRCLEVBUTBEaEYsR0FsQy9DLEdBa0NtRCxFQ2xDMURHLEVBQVV5RSxFQUFRLE9BQ2xCLEVBQU9wQixFQUFLLE1BQU8sTUFBTyxNQUFPLE9BQ3ZDdkYsSUFDQUEsSUFDQWtDLEVBQVE4QyxVQUFVeUIsS0FBSyxHQUN2QnZFLEVBQVF1RCxZQUNSUCxFQUFlQyxrQkFDZmpELEVBQVEwRSxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8vLi9zcmMvZG9tLmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvdG9Eb0RvbS5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL3ZpZXcuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9wcm9qZWN0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL3RvZG8uanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRG9tU3R1ZmYgPSAoKCkgPT4ge1xuICBjb25zdCBfZGlzcGxheVRpdGxlID0gKHRvRG8sIG5ld1RvRG9EaXYpID0+IHtcbiAgICBjb25zdCBuZXdUb0RvVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1RvRG9UaXRsZS5pbm5lckhUTUwgPSB0b0RvLnRpdGxlO1xuICAgIG5ld1RvRG9UaXRsZS5jbGFzc05hbWUgPSBcInRvZG8tdGl0bGVcIjtcbiAgICBuZXdUb0RvRGl2LmFwcGVuZENoaWxkKG5ld1RvRG9UaXRsZSk7XG4gIH07XG5cbiAgY29uc3QgX2Rpc3BsYXlEZXNjcmlwdGlvbiA9ICh0b0RvLCBuZXdUb0RvRGl2KSA9PiB7XG4gICAgY29uc3QgbmV3VG9Eb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuZXdUb0RvRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gdG9Eby5kZXNjcmlwdGlvbjtcbiAgICBuZXdUb0RvRGVzY3JpcHRpb24uY2xhc3NOYW1lID0gXCJ0b2RvLWRlc2NyaXB0aW9uXCI7XG4gICAgbmV3VG9Eb0Rpdi5hcHBlbmRDaGlsZChuZXdUb0RvRGVzY3JpcHRpb24pO1xuICB9O1xuXG4gIGNvbnN0IF9kaXNwbGF5RHVlRGF0ZSA9ICh0b0RvLCBuZXdUb0RvRGl2KSA9PiB7XG4gICAgY29uc3QgbmV3VG9Eb0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1RvRG9EdWVEYXRlLmlubmVySFRNTCA9IHRvRG8uZHVlRGF0ZTtcbiAgICBuZXdUb0RvRHVlRGF0ZS5jbGFzc05hbWUgPSBcInRvZG8tZHVlZGF0ZVwiO1xuICAgIG5ld1RvRG9EaXYuYXBwZW5kQ2hpbGQobmV3VG9Eb0R1ZURhdGUpO1xuICB9O1xuXG4gIGNvbnN0IF9kaXNwbGF5UHJpb3JpdHkgPSAodG9EbywgbmV3VG9Eb0RpdikgPT4ge1xuICAgIGNvbnN0IG5ld1RvRG9Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3VG9Eb1ByaW9yaXR5LmlubmVySFRNTCA9IHRvRG8ucHJpb3JpdHk7XG4gICAgbmV3VG9Eb1ByaW9yaXR5LmNsYXNzTmFtZSA9IFwidG9kby1wcmlvcml0eVwiO1xuICAgIG5ld1RvRG9EaXYuYXBwZW5kQ2hpbGQobmV3VG9Eb1ByaW9yaXR5KTtcbiAgfTtcblxuICBjb25zdCBfZGlzcGxheUluZGl2aWR1YWxQcm9qZWN0ID0gKHByb2plY3RBcnJheSkgPT4ge1xuICAgIHByb2plY3RBcnJheS5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICBjb25zdCBpbm5lclByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgIFwiaW5uZXItcHJvamVjdHMtY29udGFpbmVyXCJcbiAgICAgICk7XG4gICAgICBjb25zdCBuZXdQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG5ld1Byb2plY3RDb250YWluZXIuY2xhc3NOYW1lID0gXCJpbmRpdmlkdWFsLXByb2plY3QtY29udGFpbmVyXCI7XG4gICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcHJvamVjdFRpdGxlLmNsYXNzTmFtZSA9IFwicHJvamVjdC10aXRsZVwiO1xuICAgICAgcHJvamVjdFRpdGxlLmlubmVyVGV4dCA9IHByb2plY3QudGl0bGU7XG5cbiAgICAgIC8vIGFkZCB2aWV3IHByb2plY3QgYnV0dG9uXG4gICAgICBjb25zdCB2aWV3UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICB2aWV3UHJvamVjdC5jbGFzc05hbWUgPSBgdmlldy1wcm9qZWN0LSR7cHJvamVjdC5pZH1gO1xuICAgICAgdmlld1Byb2plY3QudGV4dENvbnRlbnQgPSBcIlZpZXcgcHJvamVjdFwiO1xuICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWV3UHJvamVjdCk7XG4gICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG4gICAgICBpbm5lclByb2plY3RzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1Byb2plY3RDb250YWluZXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IF9yZW1vdmVBbGxQcm9qZWN0cyA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHMtY29udGFpbmVyXCIpO1xuICAgIGlmIChwcm9qZWN0c0NvbnRhaW5lciAhPSBudWxsKSB7XG4gICAgICB3aGlsZSAocHJvamVjdHNDb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICBwcm9qZWN0c0NvbnRhaW5lci5yZW1vdmVDaGlsZChwcm9qZWN0c0NvbnRhaW5lci5sYXN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBfY3JlYXRlUHJvamVjdENvbnRhaW5lciA9ICgpID0+IHtcbiAgICAvLyBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0cy1jb250YWluZXJcIik7XG4gICAgY29uc3QgY3JlYXRlUHJvamVjdHNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNyZWF0ZVByb2plY3RzRGl2LmlkID0gXCJpbm5lci1wcm9qZWN0cy1jb250YWluZXJcIjtcbiAgICBwcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0c0Rpdik7XG4gICAgLy8gY29udGVudC5hcHBlbmRDaGlsZChwcm9qZWN0c0NvbnRhaW5lcik7XG4gIH07XG5cbiAgY29uc3QgX3JlbW92ZUFsbENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICB3aGlsZSAoY29udGVudC5maXJzdENoaWxkKSB7XG4gICAgICBjb250ZW50LnJlbW92ZUNoaWxkKGNvbnRlbnQubGFzdENoaWxkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUHJvamVjdHNDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJvamVjdHNDb250YWluZXIuaWQgPSBcInByb2plY3RzLWNvbnRhaW5lclwiO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJvamVjdHNDb250YWluZXIpO1xuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlBbGxQcm9qZWN0cyA9IChwcm9qZWN0QXJyYXkpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc29sZS5sb2cocHJvamVjdHNDb250YWluZXIpO1xuICAgIF9yZW1vdmVBbGxQcm9qZWN0cygpO1xuICAgIF9jcmVhdGVQcm9qZWN0Q29udGFpbmVyKCk7XG4gICAgX2Rpc3BsYXlJbmRpdmlkdWFsUHJvamVjdChwcm9qZWN0QXJyYXkpO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVByb2plY3RGb3JtID0gZnVuY3Rpb24gKCkge1xuICAgIC8vY3JlYXRlIGZvcm0gIGNvbnRhaW5lclxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgY29uc3QgbmV3UHJvamVjdEZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1Byb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwibmV3LXByb2plY3QtZm9ybS1jb250YWluZXJcIjtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKG5ld1Byb2plY3RGb3JtQ29udGFpbmVyKTtcblxuICAgIC8vY3JlYXRlIGZvcm0gYW5kIGlkXG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICBwcm9qZWN0Rm9ybS5pZCA9IFwibmV3LXByb2plY3QtZm9ybVwiO1xuICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBwcm9qZWN0VGl0bGUudHlwZSA9IFwidGV4dFwiO1xuICAgIHByb2plY3RUaXRsZS5pZCA9IFwidGl0bGVcIjtcbiAgICBwcm9qZWN0VGl0bGUubmFtZSA9IFwidGl0bGVcIjtcblxuICAgIGNvbnN0IHByb2plY3RUaXRsZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHByb2plY3RUaXRsZUxhYmVsLmh0bWxGb3IgPSBcInRpdGxlXCI7XG4gICAgcHJvamVjdFRpdGxlTGFiZWwuaW5uZXJUZXh0ID0gXCJOZXcgUHJvamVjdCBUaXRsZVwiO1xuXG4gICAgY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHN1Ym1pdC50eXBlID0gXCJzdWJtaXRcIjtcbiAgICBzdWJtaXQuaWQgPSBcInN1Ym1pdFwiO1xuICAgIHN1Ym1pdC5uYW1lID0gXCJzdWJtaXRcIjtcbiAgICAvLyBzdWJtaXQuaW5uZXJUZXh0ID0gXCJDcmVhdGUgUHJvamVjdFwiO1xuXG4gICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlTGFiZWwpO1xuICAgIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG4gICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0KTtcblxuICAgIG5ld1Byb2plY3RGb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RGb3JtKTtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5dG9EbyA9ICh0b0RvKSA9PiB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICBjb25zdCBuZXdUb0RvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobmV3VG9Eb0Rpdik7XG5cbiAgICBfZGlzcGxheVRpdGxlKHRvRG8sIG5ld1RvRG9EaXYpO1xuXG4gICAgX2Rpc3BsYXlEZXNjcmlwdGlvbih0b0RvLCBuZXdUb0RvRGl2KTtcblxuICAgIF9kaXNwbGF5RHVlRGF0ZSh0b0RvLCBuZXdUb0RvRGl2KTtcblxuICAgIF9kaXNwbGF5UHJpb3JpdHkodG9EbywgbmV3VG9Eb0Rpdik7XG4gIH07XG5cbiAgY29uc3Qgdmlld1Byb2plY3QgPSBmdW5jdGlvbiAocHJvamVjdCkge1xuICAgIF9yZW1vdmVBbGxDb250ZW50KCk7XG5cbiAgICAvLyBnZW5lcmF0ZSB2aWV3cHJvamVjdGNvbnRhaW5lclxuICAgIGNvbnN0IHZpZXdQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB2aWV3UHJvamVjdENvbnRhaW5lci5jbGFzc05hbWUgPSBcInZpZXctcHJvamVjdC1jb250YWluZXJcIjtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKHZpZXdQcm9qZWN0Q29udGFpbmVyKTtcblxuICAgIC8vIGFkZCBwcm9qZWN0IHRpdGxlXG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGl0bGUuY2xhc3NOYW1lID0gXCJ2aWV3LXByb2plY3QtdGl0bGVcIjtcbiAgICB0aXRsZS5pbm5lclRleHQgPSBwcm9qZWN0LnRpdGxlO1xuICAgIHZpZXdQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGRpc3BsYXl0b0RvLFxuICAgIGRpc3BsYXlBbGxQcm9qZWN0cyxcbiAgICB2aWV3UHJvamVjdCxcbiAgICBjcmVhdGVQcm9qZWN0c0NvbnRhaW5lcixcbiAgICBjcmVhdGVQcm9qZWN0Rm9ybSxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IERvbVN0dWZmIH07XG4iLCJjb25zdCBUb0RvRG9tID0gKCgpID0+IHtcbiAgY29uc3QgbmV3VG9Eb0Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgIFwidmlldy1wcm9qZWN0LWNvbnRhaW5lclwiXG4gICAgKVswXTtcblxuICAgIGNvbnN0IG5ld1RvZG9Gb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuZXdUb2RvRm9ybUNvbnRhaW5lci5jbGFzc05hbWUgPSBcIm5ldy10b2RvLWZvcm0tY29udGFpbmVyXCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1RvZG9Gb3JtQ29udGFpbmVyKTtcblxuICAgIC8vIC8vY3JlYXRlIGZvcm0gYW5kIGlkXG5cbiAgICBjb25zdCB0b2RvRm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgIHRvZG9Gb3JtLmlkID0gXCJuZXctdG9kby1mb3JtXCI7XG5cbiAgICBjb25zdCB0b2RvVGl0bGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICB0b2RvVGl0bGVMYWJlbC5odG1sRm9yID0gXCJ0aXRsZVwiO1xuICAgIHRvZG9UaXRsZUxhYmVsLmlubmVyVGV4dCA9IFwiVGl0bGVcIjtcblxuICAgIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB0b2RvVGl0bGUudHlwZSA9IFwidGV4dFwiO1xuICAgIHRvZG9UaXRsZS5pZCA9IFwidGl0bGVcIjtcbiAgICB0b2RvVGl0bGUubmFtZSA9IFwidGl0bGVcIjtcblxuICAgIGNvbnN0IHRvZG9EZXNjcmlwdGlvbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHRvZG9EZXNjcmlwdGlvbkxhYmVsLmh0bWxGb3IgPSBcImRlc2NyaXB0aW9uXCI7XG4gICAgdG9kb0Rlc2NyaXB0aW9uTGFiZWwuaW5uZXJUZXh0ID0gXCJEZXNjcmlwdGlvblwiO1xuXG4gICAgY29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRvZG9EZXNjcmlwdGlvbi50eXBlID0gXCJ0ZXh0XCI7XG4gICAgdG9kb0Rlc2NyaXB0aW9uLmlkID0gXCJkZXNjcmlwdGlvblwiO1xuICAgIHRvZG9EZXNjcmlwdGlvbi5uYW1lID0gXCJkZXNjcmlwdGlvblwiO1xuXG4gICAgY29uc3QgdG9kb0R1ZURhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICB0b2RvRHVlRGF0ZUxhYmVsLmh0bWxGb3IgPSBcImR1ZURhdGVcIjtcbiAgICB0b2RvRHVlRGF0ZUxhYmVsLmlubmVyVGV4dCA9IFwiRHVlIERhdGVcIjtcblxuICAgIGNvbnN0IHRvZG9EdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRvZG9EdWVEYXRlLnR5cGUgPSBcInRleHRcIjtcbiAgICB0b2RvRHVlRGF0ZS5pZCA9IFwiZHVlRGF0ZVwiO1xuICAgIHRvZG9EdWVEYXRlLm5hbWUgPSBcImR1ZURhdGVcIjtcblxuICAgIGNvbnN0IHRvZG9Qcmlvcml0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHRvZG9Qcmlvcml0eUxhYmVsLmh0bWxGb3IgPSBcInByaW9yaXR5XCI7XG4gICAgdG9kb1ByaW9yaXR5TGFiZWwuaW5uZXJUZXh0ID0gXCJQcmlvcml0eVwiO1xuXG4gICAgY29uc3QgdG9kb1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRvZG9Qcmlvcml0eS50eXBlID0gXCJ0ZXh0XCI7XG4gICAgdG9kb1ByaW9yaXR5LmlkID0gXCJwcmlvcml0eVwiO1xuICAgIHRvZG9Qcmlvcml0eS5uYW1lID0gXCJwcmlvcml0eVwiO1xuXG4gICAgY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHN1Ym1pdC50eXBlID0gXCJzdWJtaXRcIjtcbiAgICBzdWJtaXQuaWQgPSBcInN1Ym1pdFwiO1xuICAgIHN1Ym1pdC5uYW1lID0gXCJzdWJtaXRcIjtcblxuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHRvZG9UaXRsZUxhYmVsKTtcbiAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZCh0b2RvVGl0bGUpO1xuXG4gICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQodG9kb0Rlc2NyaXB0aW9uTGFiZWwpO1xuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHRvZG9EZXNjcmlwdGlvbik7XG5cbiAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZCh0b2RvRHVlRGF0ZUxhYmVsKTtcbiAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZCh0b2RvRHVlRGF0ZSk7XG5cbiAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZCh0b2RvUHJpb3JpdHlMYWJlbCk7XG4gICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQodG9kb1ByaW9yaXR5KTtcblxuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHN1Ym1pdCk7XG5cbiAgICBuZXdUb2RvRm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2RvRm9ybSk7XG4gIH07XG5cbiAgY29uc3QgX2NyZWF0ZVRvZG9Db250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICBjb25zdCB0b2RvQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0b2RvQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwidG9kby1jb250YWluZXJcIjtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKHRvZG9Db250YWluZXIpO1xuICB9O1xuXG4gIGNvbnN0IF9kZWxldGVUb2RvQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidG9kby1jb250YWluZXJcIilbMF07XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICBpZiAodG9kb0NvbnRhaW5lcikge1xuICAgICAgY29udGVudC5yZW1vdmVDaGlsZCh0b2RvQ29udGFpbmVyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgX2RlbGV0ZVRvRG9CdXR0b24gPSBmdW5jdGlvbiAodG9kbykge1xuICAgIGNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidG9kby1jb250YWluZXJcIilbMF07XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gYCR7dG9kby5pZH1gO1xuICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSBcImRlbGV0ZVwiO1xuICAgIHRvZG9Db250YWluZXIuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgfTtcblxuICBjb25zdCBfc2hvd1RvZG9zID0gZnVuY3Rpb24gKHRvZG9BcnJheSkge1xuICAgIGNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidG9kby1jb250YWluZXJcIilbMF07XG5cbiAgICB0b2RvQXJyYXkuZm9yRWFjaCgodG9kbykgPT4ge1xuICAgICAgX2Rpc3BsYXlUaXRsZSh0b2RvLCB0b2RvQ29udGFpbmVyKTtcblxuICAgICAgX2Rpc3BsYXlEZXNjcmlwdGlvbih0b2RvLCB0b2RvQ29udGFpbmVyKTtcblxuICAgICAgX2Rpc3BsYXlEdWVEYXRlKHRvZG8sIHRvZG9Db250YWluZXIpO1xuXG4gICAgICBfZGlzcGxheVByaW9yaXR5KHRvZG8sIHRvZG9Db250YWluZXIpO1xuXG4gICAgICBfZGVsZXRlVG9Eb0J1dHRvbih0b2RvKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzaG93QWxsVG9kb3MgPSBmdW5jdGlvbiAodG9kb0FycmF5KSB7XG4gICAgY29uc29sZS5sb2coXCJjYWxsZWRcIik7XG4gICAgX2RlbGV0ZVRvZG9Db250YWluZXIoKTtcbiAgICBfY3JlYXRlVG9kb0NvbnRhaW5lcigpO1xuICAgIF9zaG93VG9kb3ModG9kb0FycmF5KTtcbiAgfTtcblxuICBjb25zdCBfZGlzcGxheVRpdGxlID0gKHRvRG8sIG5ld1RvRG9EaXYpID0+IHtcbiAgICBjb25zdCBuZXdUb0RvVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1RvRG9UaXRsZS5pbm5lckhUTUwgPSB0b0RvLnRpdGxlO1xuICAgIG5ld1RvRG9UaXRsZS5jbGFzc05hbWUgPSBcInRvZG8tdGl0bGVcIjtcbiAgICBuZXdUb0RvRGl2LmFwcGVuZENoaWxkKG5ld1RvRG9UaXRsZSk7XG4gIH07XG5cbiAgY29uc3QgX2Rpc3BsYXlEZXNjcmlwdGlvbiA9ICh0b0RvLCBuZXdUb0RvRGl2KSA9PiB7XG4gICAgY29uc3QgbmV3VG9Eb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuZXdUb0RvRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gdG9Eby5kZXNjcmlwdGlvbjtcbiAgICBuZXdUb0RvRGVzY3JpcHRpb24uY2xhc3NOYW1lID0gXCJ0b2RvLWRlc2NyaXB0aW9uXCI7XG4gICAgbmV3VG9Eb0Rpdi5hcHBlbmRDaGlsZChuZXdUb0RvRGVzY3JpcHRpb24pO1xuICB9O1xuXG4gIGNvbnN0IF9kaXNwbGF5RHVlRGF0ZSA9ICh0b0RvLCBuZXdUb0RvRGl2KSA9PiB7XG4gICAgY29uc3QgbmV3VG9Eb0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1RvRG9EdWVEYXRlLmlubmVySFRNTCA9IHRvRG8uZHVlRGF0ZTtcbiAgICBuZXdUb0RvRHVlRGF0ZS5jbGFzc05hbWUgPSBcInRvZG8tZHVlZGF0ZVwiO1xuICAgIG5ld1RvRG9EaXYuYXBwZW5kQ2hpbGQobmV3VG9Eb0R1ZURhdGUpO1xuICB9O1xuXG4gIGNvbnN0IF9kaXNwbGF5UHJpb3JpdHkgPSAodG9EbywgbmV3VG9Eb0RpdikgPT4ge1xuICAgIGNvbnN0IG5ld1RvRG9Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3VG9Eb1ByaW9yaXR5LmlubmVySFRNTCA9IHRvRG8ucHJpb3JpdHk7XG4gICAgbmV3VG9Eb1ByaW9yaXR5LmNsYXNzTmFtZSA9IFwidG9kby1wcmlvcml0eVwiO1xuICAgIG5ld1RvRG9EaXYuYXBwZW5kQ2hpbGQobmV3VG9Eb1ByaW9yaXR5KTtcbiAgfTtcblxuICAvLyBjb25zdCBkaXNwbGF5dG9EbyA9ICh0b0RvKSA9PiB7XG4gIC8vICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgLy8gICBjb25zdCBuZXdUb0RvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAvLyAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobmV3VG9Eb0Rpdik7XG5cbiAgLy8gICBfZGlzcGxheVRpdGxlKHRvRG8sIG5ld1RvRG9EaXYpO1xuXG4gIC8vICAgX2Rpc3BsYXlEZXNjcmlwdGlvbih0b0RvLCBuZXdUb0RvRGl2KTtcblxuICAvLyAgIF9kaXNwbGF5RHVlRGF0ZSh0b0RvLCBuZXdUb0RvRGl2KTtcblxuICAvLyAgIF9kaXNwbGF5UHJpb3JpdHkodG9EbywgbmV3VG9Eb0Rpdik7XG4gIC8vIH07XG5cbiAgY29uc3QgYXNzaWduUHJvamVjdElkID0gZnVuY3Rpb24gKHByb2plY3RJZCkge1xuICAgIGNvbnN0IHRvZG9Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXctdG9kby1mb3JtXCIpO1xuICAgIGNvbnN0IGhpZGRlblByb2plY3RJZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBoaWRkZW5Qcm9qZWN0SWQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgaGlkZGVuUHJvamVjdElkLmlkID0gXCJwcm9qZWN0SWRcIjtcbiAgICBoaWRkZW5Qcm9qZWN0SWQubmFtZSA9IFwicHJvamVjdElkXCI7XG4gICAgaGlkZGVuUHJvamVjdElkLnZhbHVlID0gcHJvamVjdElkO1xuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKGhpZGRlblByb2plY3RJZCk7XG4gIH07XG5cbiAgcmV0dXJuIHsgbmV3VG9Eb0Zvcm0sIGFzc2lnblByb2plY3RJZCwgc2hvd0FsbFRvZG9zIH07XG59KSgpO1xuXG5leHBvcnQgeyBUb0RvRG9tIH07XG4iLCJpbXBvcnQgeyBEb21TdHVmZiB9IGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IHsgVG9Eb0RvbSB9IGZyb20gXCIuL3RvRG9Eb21cIjtcblxuY29uc3QgVmlld1Byb2plY3QgPSAoKCkgPT4ge1xuICBjb25zdCB2aWV3VGl0bGUgPSBmdW5jdGlvbiAocHJvamVjdCkge1xuICAgIERvbVN0dWZmLnZpZXdQcm9qZWN0KHByb2plY3QpO1xuICB9O1xuXG4gIGNvbnN0IHZpZXdUb0RvcyA9IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgbGV0IGFycmF5ID0gcHJvamVjdC50b0RvQXJyYXk7XG4gICAgY29uc29sZS5sb2coXCJ2dGQgb3V0ZXIgY2FsbGVkXCIpO1xuICAgIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICBpZiAoYXJyYXkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBUb0RvRG9tLnNob3dBbGxUb2RvcyhhcnJheSk7XG4gICAgICBjb25zb2xlLmxvZyhcInRvZG9kb20gY2FsbGVkXCIpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyB2aWV3VGl0bGUsIHZpZXdUb0RvcyB9O1xufSkoKTtcblxuZXhwb3J0IHsgVmlld1Byb2plY3QgfTtcbiIsImltcG9ydCB7IERvbVN0dWZmIH0gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQgeyBWaWV3UHJvamVjdCB9IGZyb20gXCIuL3ZpZXdcIjtcbmltcG9ydCB7IFRvRG9Eb20gfSBmcm9tIFwiLi90b0RvRG9tXCI7XG5pbXBvcnQgeyBUb0RvIH0gZnJvbSBcIi4vdG9kb1wiO1xuXG5jb25zdCBQcm9qZWN0TWFuYWdlciA9ICgoKSA9PiB7XG4gIGNvbnN0IHByb2plY3RBcnJheSA9IFtdO1xuICBjb25zdCBwcm9qZWN0SWQgPSAwO1xuICBjb25zdCB0b0RvSWQgPSAwO1xuXG4gIGNvbnN0IHNob3dBbGxQcm9qZWN0cyA9ICgpID0+IHtcbiAgICBEb21TdHVmZi5kaXNwbGF5QWxsUHJvamVjdHMocHJvamVjdEFycmF5KTtcbiAgICBQcm9qZWN0TWFuYWdlci52aWV3UHJvamVjdExpc3RlbmVyKCk7XG4gIH07XG5cbiAgY29uc3Qgdmlld1Byb2plY3RMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9qZWN0QXJyYXkuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgY29uc3Qgdmlld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgIGB2aWV3LXByb2plY3QtJHtwcm9qZWN0LmlkfWBcbiAgICAgIClbMF07XG4gICAgICB2aWV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIFZpZXdQcm9qZWN0LnZpZXdUaXRsZShwcm9qZWN0KTtcbiAgICAgICAgVG9Eb0RvbS5uZXdUb0RvRm9ybSgpO1xuICAgICAgICBUb0RvRG9tLmFzc2lnblByb2plY3RJZChwcm9qZWN0LmlkKTtcbiAgICAgICAgY29uc3QgdG9kbyA9IFRvRG8oKTtcbiAgICAgICAgdG9kby50b2RvTGlzdGVuZXIoKTtcbiAgICAgICAgLy8gVG9Eb0RvbS5zaG93QWxsVG9kb3MocHJvamVjdCk7XG4gICAgICAgIHByb2plY3Quc2hvd1RvRG9zKCk7XG4gICAgICAgIFZpZXdQcm9qZWN0LnZpZXdUb0Rvcyhwcm9qZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2hvd0FsbFByb2plY3RzLFxuICAgIHByb2plY3RBcnJheSxcbiAgICBwcm9qZWN0SWQsXG4gICAgdG9Eb0lkLFxuICAgIHZpZXdQcm9qZWN0TGlzdGVuZXIsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBQcm9qZWN0TWFuYWdlciB9O1xuIiwiaW1wb3J0IHsgUHJvamVjdE1hbmFnZXIgfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlclwiO1xuaW1wb3J0IHsgVmlld1Byb2plY3QgfSBmcm9tIFwiLi92aWV3XCI7XG5cbmNvbnN0IFRvRG8gPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICBjb25zdCB0b0RvU3RhdHVzID0gXCJpbmNvbXBsZXRlXCI7XG4gIGxldCB0b0RvaWQgPSAwO1xuICBjb25zdCBwcm9qZWN0SWQgPSBcIlwiO1xuXG4gIGNvbnN0IGNyZWF0ZSA9ICh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSA9PiB7XG4gICAgbmV3VG9EbyA9IHRvRG8odGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSk7XG4gIH07XG5cbiAgY29uc3QgY2hhbmdlID0gKGVsZW1lbnRUb0NoYW5nZSwgbmV3VmFsdWUpID0+IHtcbiAgICB0aGlzW2VsZW1lbnRUb0NoYW5nZV0gPSBuZXdWYWx1ZTtcbiAgfTtcblxuICBjb25zdCBjaGFuZ2VURFMgPSAoKSA9PiB7XG4gICAgdG9Eb3N0YXR1cyA9IGNvbXBsZXRldDtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVUb2RvID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWU7XG4gICAgY29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCB0b2RvRHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHVlRGF0ZVwiKS52YWx1ZTtcbiAgICBjb25zdCB0b2RvUHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5XCIpLnZhbHVlO1xuICAgIGNvbnN0IHRvZG9Qcm9qZWN0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RJZFwiKS52YWx1ZTtcbiAgICBjb25zdCBuZXdUb2RvID0gVG9Ebyh0b2RvVGl0bGUsIHRvZG9EZXNjcmlwdGlvbiwgdG9kb0R1ZURhdGUsIHRvZG9Qcmlvcml0eSk7XG4gICAgbmV3VG9kby5wcm9qZWN0SWQgPSB0b2RvUHJvamVjdElkO1xuICAgIG5ld1RvZG8uaWQgPSB0b0RvaWQ7XG4gICAgbGV0IHBhcmVudFByb2plY3QgPSBmaW5kUHJvamVjdCh0b2RvUHJvamVjdElkKTtcbiAgICBwYXJlbnRQcm9qZWN0LnRvRG9BcnJheS5wdXNoKG5ld1RvZG8pO1xuICAgIGNvbnNvbGUubG9nKHBhcmVudFByb2plY3QpO1xuICAgIFZpZXdQcm9qZWN0LnZpZXdUb0RvcyhwYXJlbnRQcm9qZWN0KTtcbiAgfTtcblxuICBjb25zdCBmaW5kUHJvamVjdCA9IGZ1bmN0aW9uICh0b2RvUHJvamVjdElkKSB7XG4gICAgbGV0IGZvdW5kUHJvamVjdCA9IFwiXCI7XG4gICAgUHJvamVjdE1hbmFnZXIucHJvamVjdEFycmF5LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgIGlmIChwcm9qZWN0LmlkID09IHRvZG9Qcm9qZWN0SWQpIHtcbiAgICAgICAgZm91bmRQcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmRQcm9qZWN0O1xuICB9O1xuXG4gIGNvbnN0IHRvZG9MaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0b2RvRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3LXRvZG8tZm9ybVwiKTtcbiAgICB0b2RvRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNyZWF0ZVRvZG8oKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBpbmNyZWFzZVRvRG9JZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0b0RvaWQgKz0gMTtcbiAgfTtcblxuICBpbmNyZWFzZVRvRG9JZCgpO1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZHVlRGF0ZSxcbiAgICBwcmlvcml0eSxcbiAgICB0b0RvU3RhdHVzLFxuICAgIGNyZWF0ZSxcbiAgICBjaGFuZ2UsXG4gICAgdG9Eb1N0YXR1cyxcbiAgICB0b0RvaWQsXG4gICAgcHJvamVjdElkLFxuICAgIHRvZG9MaXN0ZW5lcixcbiAgfTtcbn07XG5cbmV4cG9ydCB7IFRvRG8gfTtcbiIsImltcG9ydCB7IERvbVN0dWZmIH0gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQgeyBQcm9qZWN0TWFuYWdlciB9IGZyb20gXCIuL3Byb2plY3RNYW5hZ2VyXCI7XG5cbmNvbnN0IFByb2plY3QgPSAodGl0bGUpID0+IHtcbiAgY29uc3QgdG9Eb0FycmF5ID0gW107XG4gIGNvbnN0IGlkID0gXCJcIjtcblxuICBjb25zdCBzaG93VG9Eb3MgPSAoKSA9PiB7XG4gICAgdG9Eb0FycmF5LmZvckVhY2goKHRvRG8pID0+IHtcbiAgICAgIERvbVN0dWZmLmRpc3BsYXl0b0RvKHRvRG8pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZU5ld1Byb2plY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UHJvamVjVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBQcm9qZWN0KG5ld1Byb2plY1RpdGxlKTtcbiAgICBuZXdQcm9qZWN0LmlkID0gUHJvamVjdE1hbmFnZXIucHJvamVjdElkO1xuICAgIFByb2plY3RNYW5hZ2VyLnByb2plY3RBcnJheS5wdXNoKG5ld1Byb2plY3QpO1xuICAgIFByb2plY3RNYW5hZ2VyLnNob3dBbGxQcm9qZWN0cygpO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZU5ld1Byb2plY3RGb3JtID0gZnVuY3Rpb24gKCkge1xuICAgIERvbVN0dWZmLmNyZWF0ZUZvcm0oKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVGb3JtTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UHJvamVjdEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ldy1wcm9qZWN0LWZvcm1cIik7XG4gICAgbmV3UHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjcmVhdGVOZXdQcm9qZWN0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaW5jcmVhc2VQcm9qZWN0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvamVjdE1hbmFnZXIucHJvamVjdElkICs9IDE7XG4gIH07XG5cbiAgaW5jcmVhc2VQcm9qZWN0SWQoKTtcblxuICByZXR1cm4geyB0aXRsZSwgdG9Eb0FycmF5LCBzaG93VG9Eb3MsIGNyZWF0ZUZvcm1MaXN0ZW5lciwgaWQgfTtcbn07XG5cbmV4cG9ydCB7IFByb2plY3QgfTtcbiIsImltcG9ydCB7IFRvRG8gfSBmcm9tIFwiLi90b2RvXCI7IC8vIHRvZGVsZXRlXG5pbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdFwiO1xuaW1wb3J0IHsgUHJvamVjdE1hbmFnZXIgfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlclwiO1xuaW1wb3J0IHsgRG9tU3R1ZmYgfSBmcm9tIFwiLi9kb21cIjtcblxuY29uc3QgcHJvamVjdCA9IFByb2plY3QoXCJBQkNcIik7XG5jb25zdCB0b0RvID0gVG9EbyhcImFiY1wiLCBcImFiY1wiLCBcImFiY1wiLCBcImFiY1wiKTtcbkRvbVN0dWZmLmNyZWF0ZVByb2plY3RzQ29udGFpbmVyKCk7XG5Eb21TdHVmZi5jcmVhdGVQcm9qZWN0Rm9ybSgpO1xucHJvamVjdC50b0RvQXJyYXkucHVzaCh0b0RvKTtcbnByb2plY3Quc2hvd1RvRG9zKCk7XG5Qcm9qZWN0TWFuYWdlci5zaG93QWxsUHJvamVjdHMoKTtcbnByb2plY3QuY3JlYXRlRm9ybUxpc3RlbmVyKCk7XG4iXSwibmFtZXMiOlsiRG9tU3R1ZmYiLCJ0b0RvIiwiY29udGVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJuZXdUb0RvRGl2IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwibmV3VG9Eb1RpdGxlIiwiaW5uZXJIVE1MIiwidGl0bGUiLCJjbGFzc05hbWUiLCJfZGlzcGxheVRpdGxlIiwibmV3VG9Eb0Rlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJfZGlzcGxheURlc2NyaXB0aW9uIiwibmV3VG9Eb0R1ZURhdGUiLCJkdWVEYXRlIiwiX2Rpc3BsYXlEdWVEYXRlIiwibmV3VG9Eb1ByaW9yaXR5IiwicHJpb3JpdHkiLCJfZGlzcGxheVByaW9yaXR5IiwicHJvamVjdEFycmF5IiwicHJvamVjdHNDb250YWluZXIiLCJjb25zb2xlIiwibG9nIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiX3JlbW92ZUFsbFByb2plY3RzIiwiY3JlYXRlUHJvamVjdHNEaXYiLCJpZCIsIl9jcmVhdGVQcm9qZWN0Q29udGFpbmVyIiwiZm9yRWFjaCIsInByb2plY3QiLCJpbm5lclByb2plY3RzQ29udGFpbmVyIiwibmV3UHJvamVjdENvbnRhaW5lciIsInByb2plY3RUaXRsZSIsImlubmVyVGV4dCIsInZpZXdQcm9qZWN0IiwidGV4dENvbnRlbnQiLCJfZGlzcGxheUluZGl2aWR1YWxQcm9qZWN0IiwiX3JlbW92ZUFsbENvbnRlbnQiLCJ2aWV3UHJvamVjdENvbnRhaW5lciIsIm5ld1Byb2plY3RGb3JtQ29udGFpbmVyIiwicHJvamVjdEZvcm0iLCJ0eXBlIiwibmFtZSIsInByb2plY3RUaXRsZUxhYmVsIiwiaHRtbEZvciIsInN1Ym1pdCIsIlRvRG9Eb20iLCJuZXdUb0RvRm9ybSIsImNvbnRhaW5lciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJuZXdUb2RvRm9ybUNvbnRhaW5lciIsInRvZG9Gb3JtIiwidG9kb1RpdGxlTGFiZWwiLCJ0b2RvVGl0bGUiLCJ0b2RvRGVzY3JpcHRpb25MYWJlbCIsInRvZG9EZXNjcmlwdGlvbiIsInRvZG9EdWVEYXRlTGFiZWwiLCJ0b2RvRHVlRGF0ZSIsInRvZG9Qcmlvcml0eUxhYmVsIiwidG9kb1ByaW9yaXR5IiwiYXNzaWduUHJvamVjdElkIiwicHJvamVjdElkIiwiaGlkZGVuUHJvamVjdElkIiwidmFsdWUiLCJzaG93QWxsVG9kb3MiLCJ0b2RvQXJyYXkiLCJ0b2RvQ29udGFpbmVyIiwiX2RlbGV0ZVRvZG9Db250YWluZXIiLCJfY3JlYXRlVG9kb0NvbnRhaW5lciIsInRvZG8iLCJkZWxldGVCdXR0b24iLCJfZGVsZXRlVG9Eb0J1dHRvbiIsIl9zaG93VG9kb3MiLCJWaWV3UHJvamVjdCIsImFycmF5IiwidG9Eb0FycmF5IiwidW5kZWZpbmVkIiwiUHJvamVjdE1hbmFnZXIiLCJzaG93QWxsUHJvamVjdHMiLCJ2aWV3UHJvamVjdExpc3RlbmVyIiwidG9Eb0lkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlRvRG8iLCJ0b2RvTGlzdGVuZXIiLCJzaG93VG9Eb3MiLCJ0b0RvU3RhdHVzIiwidG9Eb2lkIiwiY3JlYXRlIiwibmV3VG9EbyIsImNoYW5nZSIsImVsZW1lbnRUb0NoYW5nZSIsIm5ld1ZhbHVlIiwidGhpcyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ0b2RvUHJvamVjdElkIiwibmV3VG9kbyIsInBhcmVudFByb2plY3QiLCJmb3VuZFByb2plY3QiLCJmaW5kUHJvamVjdCIsInB1c2giLCJjcmVhdGVUb2RvIiwiUHJvamVjdCIsImNyZWF0ZUZvcm1MaXN0ZW5lciIsIm5ld1Byb2plY1RpdGxlIiwibmV3UHJvamVjdCIsImNyZWF0ZU5ld1Byb2plY3QiXSwic291cmNlUm9vdCI6IiJ9