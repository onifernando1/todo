(()=>{"use strict";const e={displayAllProjects:e=>{document.createElement("div"),(()=>{const e=document.getElementById("projects-container");if(null!=e)for(;e.firstChild;)e.removeChild(e.lastChild)})(),(()=>{const e=document.getElementById("projects-container"),t=document.createElement("div");t.id="inner-projects-container",e.appendChild(t)})(),(e=>{e.forEach((e=>{const t=document.getElementById("inner-projects-container"),n=document.createElement("div");n.className="individual-project-container";const o=document.createElement("div");o.className="project-title",o.innerText=e.title;const c=document.createElement("button");c.className=`view-project-${e.id}`,c.textContent="View project",n.appendChild(c),n.appendChild(o),t.appendChild(n)}))})(e)},viewProject:function(e){!function(){const e=document.getElementById("content");for(;e.firstChild;)e.removeChild(e.lastChild)}();const t=document.createElement("div");t.className="view-project-container",content.appendChild(t);const n=document.createElement("div");n.className="view-project-title",n.innerText=e.title,t.appendChild(n)},createProjectsContainer:function(){const e=document.getElementById("content"),t=document.createElement("div");t.id="projects-container",e.appendChild(t)},createProjectForm:function(){const e=document.getElementById("content"),t=document.createElement("div");t.className="new-project-form-container",e.appendChild(t);const n=document.createElement("form");n.id="new-project-form";const o=document.createElement("input");o.type="text",o.id="title",o.name="title";const c=document.createElement("label");c.htmlFor="title",c.innerText="New Project Title";const d=document.createElement("input");d.type="submit",d.id="submit",d.name="submit",n.appendChild(c),n.appendChild(o),n.appendChild(d),t.appendChild(n)}},t=(()=>{const e=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.title,n.className="todo-title",t.appendChild(n)},t=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.description,n.className="todo-description",t.appendChild(n)},n=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.dueDate,n.className="todo-duedate",t.appendChild(n)},o=(e,t)=>{const n=document.createElement("div");n.innerHTML=e.priority,n.className="todo-priority",t.appendChild(n)};return{newToDoForm:function(){const e=document.getElementsByClassName("view-project-container")[0],t=document.createElement("div");t.className="new-todo-form-container",e.appendChild(t);const n=document.createElement("form");n.id="new-todo-form";const o=document.createElement("label");o.htmlFor="title",o.innerText="Title";const c=document.createElement("input");c.type="text",c.id="title",c.name="title";const d=document.createElement("label");d.htmlFor="description",d.innerText="Description";const i=document.createElement("input");i.type="text",i.id="description",i.name="description";const r=document.createElement("label");r.htmlFor="dueDate",r.innerText="Due Date";const l=document.createElement("input");l.type="text",l.id="dueDate",l.name="dueDate";const a=document.createElement("label");a.htmlFor="priority",a.innerText="Priority";const m=document.createElement("input");m.type="text",m.id="priority",m.name="priority";const s=document.createElement("input");s.type="submit",s.id="submit",s.name="submit",n.appendChild(o),n.appendChild(c),n.appendChild(d),n.appendChild(i),n.appendChild(r),n.appendChild(l),n.appendChild(a),n.appendChild(m),n.appendChild(s),t.appendChild(n)},assignProjectId:function(e){const t=document.getElementById("new-todo-form"),n=document.createElement("input");n.type="hidden",n.id="projectId",n.name="projectId",n.value=e,t.appendChild(n)},showAllTodos:function(c){!function(){const e=document.getElementsByClassName("todo-container")[0],t=document.getElementById("content");e&&t.removeChild(e)}(),function(){const e=document.getElementById("content"),t=document.createElement("div");t.className="todo-container",e.appendChild(t)}(),function(c){const d=document.getElementsByClassName("todo-container")[0];c.forEach((c=>{e(c,d),t(c,d),n(c,d),o(c,d),function(e){console.log(e),console.log("above");const t=document.getElementsByClassName("todo-container")[0],n=document.createElement("button");n.className=`${e.id} delete`,n.innerHTML="delete",t.appendChild(n)}(c)}))}(c)}}})(),n=function(t){e.viewProject(t)},o=function(e){let n=e.toDoArray;null!=n&&t.showAllTodos(n)},c=(()=>{const o=[];return{showAllProjects:()=>{e.displayAllProjects(o),c.viewProjectListener()},projectArray:o,projectId:0,toDoId:0,viewProjectListener:function(){o.forEach((e=>{document.getElementsByClassName(`view-project-${e.id}`)[0].addEventListener("click",(()=>{n(e),t.newToDoForm(),t.assignProjectId(e.id),d().todoListener(),e.showToDos()}))}))}}})(),d=function(e,t,n,i){const r="incomplete";let l="";const a=function(e,t){let n="";t.toDoArray.forEach((o=>{o.id==e&&(console.log("before length"),console.log(t.toDoArray.length),n=o,t.toDoArray=t.toDoArray.filter((e=>e!==n)),console.log("after length "),console.log(t.toDoArray.length))})),o(t)};return{title:e,description:t,dueDate:n,priority:i,toDoStatus:r,create:(e,t,n,o)=>{newToDo=toDo(e,t,n,o)},change:(e,t)=>{this[e]=t},toDoStatus:r,projectId:"",todoListener:function(){document.getElementById("new-todo-form").addEventListener("submit",(e=>{e.preventDefault(),function(){const e=document.getElementById("title").value,t=document.getElementById("description").value,n=document.getElementById("dueDate").value,i=document.getElementById("priority").value,r=Number(document.getElementById("projectId").value),m=d(e,t,n,i);m.projectId=r,m.id=(c.toDoId+=1,l=c.toDoId,l);let s=function(e){let t="";return c.projectArray.forEach((n=>{n.id==e&&(t=n)})),t}(r);s.toDoArray.push(m),o(s),function(e){const t=document.getElementsByClassName("delete");for(let n=0;n<t.length;n++)t[n].addEventListener("click",(()=>{let o=t[n].className;o=o.split(""),l=o[0],a(l,e)}))}(s)}()}))},id:l}},i=t=>{const n=[];return c.projectId+=1,{title:t,toDoArray:n,showToDos:()=>{n.forEach((t=>{e.displaytoDo(t)}))},createFormListener:function(){document.getElementById("new-project-form").addEventListener("submit",(e=>{e.preventDefault(),function(){const e=document.getElementById("title").value,t=i(e);t.id=c.projectId,c.projectArray.push(t),c.showAllProjects()}()}))},id:""}},r=i("ABC");e.createProjectsContainer(),e.createProjectForm(),c.showAllProjects(),r.createFormListener()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S3lFLEVBQWVsQixVQUMvQmtCLEVBQWVuRixhQUFhK0csS0FBS1csR0FDakN2QyxFQUFlQyxpQkFDakIsQ0FVSXVDLEVBQWtCLEdBRXRCLEVBUTBEakgsR0FsQy9DLEdBa0NtRCxFQ2xDMURJLEVBQVV3RyxFQUFRLE9BRXhCeEgsRUFBUzZCLDBCQUNUN0IsRUFBUzhCLG9CQUdUdUQsRUFBZUMsa0JBQ2Z0RSxFQUFRMEcsb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLy4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL3RvRG9Eb20uanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy92aWV3LmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvcHJvamVjdE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy90b2RvLmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERvbVN0dWZmID0gKCgpID0+IHtcbiAgY29uc3QgX2Rpc3BsYXlJbmRpdmlkdWFsUHJvamVjdCA9IChwcm9qZWN0QXJyYXkpID0+IHtcbiAgICBwcm9qZWN0QXJyYXkuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgY29uc3QgaW5uZXJQcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICBcImlubmVyLXByb2plY3RzLWNvbnRhaW5lclwiXG4gICAgICApO1xuICAgICAgY29uc3QgbmV3UHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiaW5kaXZpZHVhbC1wcm9qZWN0LWNvbnRhaW5lclwiO1xuICAgICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHByb2plY3RUaXRsZS5jbGFzc05hbWUgPSBcInByb2plY3QtdGl0bGVcIjtcbiAgICAgIHByb2plY3RUaXRsZS5pbm5lclRleHQgPSBwcm9qZWN0LnRpdGxlO1xuXG4gICAgICAvLyBhZGQgdmlldyBwcm9qZWN0IGJ1dHRvblxuICAgICAgY29uc3Qgdmlld1Byb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgdmlld1Byb2plY3QuY2xhc3NOYW1lID0gYHZpZXctcHJvamVjdC0ke3Byb2plY3QuaWR9YDtcbiAgICAgIHZpZXdQcm9qZWN0LnRleHRDb250ZW50ID0gXCJWaWV3IHByb2plY3RcIjtcbiAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQodmlld1Byb2plY3QpO1xuICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpO1xuICAgICAgaW5uZXJQcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdQcm9qZWN0Q29udGFpbmVyKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBfcmVtb3ZlQWxsUHJvamVjdHMgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RzLWNvbnRhaW5lclwiKTtcbiAgICBpZiAocHJvamVjdHNDb250YWluZXIgIT0gbnVsbCkge1xuICAgICAgd2hpbGUgKHByb2plY3RzQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgcHJvamVjdHNDb250YWluZXIucmVtb3ZlQ2hpbGQocHJvamVjdHNDb250YWluZXIubGFzdENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgX2NyZWF0ZVByb2plY3RDb250YWluZXIgPSAoKSA9PiB7XG4gICAgLy8gY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHMtY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IGNyZWF0ZVByb2plY3RzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjcmVhdGVQcm9qZWN0c0Rpdi5pZCA9IFwiaW5uZXItcHJvamVjdHMtY29udGFpbmVyXCI7XG4gICAgcHJvamVjdHNDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdHNEaXYpO1xuICAgIC8vIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJvamVjdHNDb250YWluZXIpO1xuICB9O1xuXG4gIGNvbnN0IF9yZW1vdmVBbGxDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgd2hpbGUgKGNvbnRlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgY29udGVudC5yZW1vdmVDaGlsZChjb250ZW50Lmxhc3RDaGlsZCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVByb2plY3RzQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHByb2plY3RzQ29udGFpbmVyLmlkID0gXCJwcm9qZWN0cy1jb250YWluZXJcIjtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKHByb2plY3RzQ29udGFpbmVyKTtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5QWxsUHJvamVjdHMgPSAocHJvamVjdEFycmF5KSA9PiB7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIF9yZW1vdmVBbGxQcm9qZWN0cygpO1xuICAgIF9jcmVhdGVQcm9qZWN0Q29udGFpbmVyKCk7XG4gICAgX2Rpc3BsYXlJbmRpdmlkdWFsUHJvamVjdChwcm9qZWN0QXJyYXkpO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVByb2plY3RGb3JtID0gZnVuY3Rpb24gKCkge1xuICAgIC8vY3JlYXRlIGZvcm0gIGNvbnRhaW5lclxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgY29uc3QgbmV3UHJvamVjdEZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1Byb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwibmV3LXByb2plY3QtZm9ybS1jb250YWluZXJcIjtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKG5ld1Byb2plY3RGb3JtQ29udGFpbmVyKTtcblxuICAgIC8vY3JlYXRlIGZvcm0gYW5kIGlkXG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICBwcm9qZWN0Rm9ybS5pZCA9IFwibmV3LXByb2plY3QtZm9ybVwiO1xuICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBwcm9qZWN0VGl0bGUudHlwZSA9IFwidGV4dFwiO1xuICAgIHByb2plY3RUaXRsZS5pZCA9IFwidGl0bGVcIjtcbiAgICBwcm9qZWN0VGl0bGUubmFtZSA9IFwidGl0bGVcIjtcblxuICAgIGNvbnN0IHByb2plY3RUaXRsZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHByb2plY3RUaXRsZUxhYmVsLmh0bWxGb3IgPSBcInRpdGxlXCI7XG4gICAgcHJvamVjdFRpdGxlTGFiZWwuaW5uZXJUZXh0ID0gXCJOZXcgUHJvamVjdCBUaXRsZVwiO1xuXG4gICAgY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHN1Ym1pdC50eXBlID0gXCJzdWJtaXRcIjtcbiAgICBzdWJtaXQuaWQgPSBcInN1Ym1pdFwiO1xuICAgIHN1Ym1pdC5uYW1lID0gXCJzdWJtaXRcIjtcbiAgICAvLyBzdWJtaXQuaW5uZXJUZXh0ID0gXCJDcmVhdGUgUHJvamVjdFwiO1xuXG4gICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlTGFiZWwpO1xuICAgIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG4gICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0KTtcblxuICAgIG5ld1Byb2plY3RGb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RGb3JtKTtcbiAgfTtcblxuICBjb25zdCB2aWV3UHJvamVjdCA9IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgX3JlbW92ZUFsbENvbnRlbnQoKTtcblxuICAgIC8vIGdlbmVyYXRlIHZpZXdwcm9qZWN0Y29udGFpbmVyXG4gICAgY29uc3Qgdmlld1Byb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHZpZXdQcm9qZWN0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwidmlldy1wcm9qZWN0LWNvbnRhaW5lclwiO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodmlld1Byb2plY3RDb250YWluZXIpO1xuXG4gICAgLy8gYWRkIHByb2plY3QgdGl0bGVcblxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aXRsZS5jbGFzc05hbWUgPSBcInZpZXctcHJvamVjdC10aXRsZVwiO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9IHByb2plY3QudGl0bGU7XG4gICAgdmlld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgLy8gZGlzcGxheXRvRG8sXG4gICAgZGlzcGxheUFsbFByb2plY3RzLFxuICAgIHZpZXdQcm9qZWN0LFxuICAgIGNyZWF0ZVByb2plY3RzQ29udGFpbmVyLFxuICAgIGNyZWF0ZVByb2plY3RGb3JtLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IHsgRG9tU3R1ZmYgfTtcbiIsImNvbnN0IFRvRG9Eb20gPSAoKCkgPT4ge1xuICBjb25zdCBuZXdUb0RvRm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgXCJ2aWV3LXByb2plY3QtY29udGFpbmVyXCJcbiAgICApWzBdO1xuXG4gICAgY29uc3QgbmV3VG9kb0Zvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1RvZG9Gb3JtQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwibmV3LXRvZG8tZm9ybS1jb250YWluZXJcIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobmV3VG9kb0Zvcm1Db250YWluZXIpO1xuXG4gICAgLy8gLy9jcmVhdGUgZm9ybSBhbmQgaWRcblxuICAgIGNvbnN0IHRvZG9Gb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgdG9kb0Zvcm0uaWQgPSBcIm5ldy10b2RvLWZvcm1cIjtcblxuICAgIGNvbnN0IHRvZG9UaXRsZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHRvZG9UaXRsZUxhYmVsLmh0bWxGb3IgPSBcInRpdGxlXCI7XG4gICAgdG9kb1RpdGxlTGFiZWwuaW5uZXJUZXh0ID0gXCJUaXRsZVwiO1xuXG4gICAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRvZG9UaXRsZS50eXBlID0gXCJ0ZXh0XCI7XG4gICAgdG9kb1RpdGxlLmlkID0gXCJ0aXRsZVwiO1xuICAgIHRvZG9UaXRsZS5uYW1lID0gXCJ0aXRsZVwiO1xuXG4gICAgY29uc3QgdG9kb0Rlc2NyaXB0aW9uTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgdG9kb0Rlc2NyaXB0aW9uTGFiZWwuaHRtbEZvciA9IFwiZGVzY3JpcHRpb25cIjtcbiAgICB0b2RvRGVzY3JpcHRpb25MYWJlbC5pbm5lclRleHQgPSBcIkRlc2NyaXB0aW9uXCI7XG5cbiAgICBjb25zdCB0b2RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgdG9kb0Rlc2NyaXB0aW9uLnR5cGUgPSBcInRleHRcIjtcbiAgICB0b2RvRGVzY3JpcHRpb24uaWQgPSBcImRlc2NyaXB0aW9uXCI7XG4gICAgdG9kb0Rlc2NyaXB0aW9uLm5hbWUgPSBcImRlc2NyaXB0aW9uXCI7XG5cbiAgICBjb25zdCB0b2RvRHVlRGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHRvZG9EdWVEYXRlTGFiZWwuaHRtbEZvciA9IFwiZHVlRGF0ZVwiO1xuICAgIHRvZG9EdWVEYXRlTGFiZWwuaW5uZXJUZXh0ID0gXCJEdWUgRGF0ZVwiO1xuXG4gICAgY29uc3QgdG9kb0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgdG9kb0R1ZURhdGUudHlwZSA9IFwidGV4dFwiO1xuICAgIHRvZG9EdWVEYXRlLmlkID0gXCJkdWVEYXRlXCI7XG4gICAgdG9kb0R1ZURhdGUubmFtZSA9IFwiZHVlRGF0ZVwiO1xuXG4gICAgY29uc3QgdG9kb1ByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgdG9kb1ByaW9yaXR5TGFiZWwuaHRtbEZvciA9IFwicHJpb3JpdHlcIjtcbiAgICB0b2RvUHJpb3JpdHlMYWJlbC5pbm5lclRleHQgPSBcIlByaW9yaXR5XCI7XG5cbiAgICBjb25zdCB0b2RvUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgdG9kb1ByaW9yaXR5LnR5cGUgPSBcInRleHRcIjtcbiAgICB0b2RvUHJpb3JpdHkuaWQgPSBcInByaW9yaXR5XCI7XG4gICAgdG9kb1ByaW9yaXR5Lm5hbWUgPSBcInByaW9yaXR5XCI7XG5cbiAgICBjb25zdCBzdWJtaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgc3VibWl0LnR5cGUgPSBcInN1Ym1pdFwiO1xuICAgIHN1Ym1pdC5pZCA9IFwic3VibWl0XCI7XG4gICAgc3VibWl0Lm5hbWUgPSBcInN1Ym1pdFwiO1xuXG4gICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQodG9kb1RpdGxlTGFiZWwpO1xuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG5cbiAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZCh0b2RvRGVzY3JpcHRpb25MYWJlbCk7XG4gICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQodG9kb0Rlc2NyaXB0aW9uKTtcblxuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHRvZG9EdWVEYXRlTGFiZWwpO1xuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHRvZG9EdWVEYXRlKTtcblxuICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHRvZG9Qcmlvcml0eUxhYmVsKTtcbiAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZCh0b2RvUHJpb3JpdHkpO1xuXG4gICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQoc3VibWl0KTtcblxuICAgIG5ld1RvZG9Gb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvZG9Gb3JtKTtcbiAgfTtcblxuICBjb25zdCBfY3JlYXRlVG9kb0NvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgIGNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRvZG9Db250YWluZXIuY2xhc3NOYW1lID0gXCJ0b2RvLWNvbnRhaW5lclwiO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodG9kb0NvbnRhaW5lcik7XG4gIH07XG5cbiAgY29uc3QgX2RlbGV0ZVRvZG9Db250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0b2RvLWNvbnRhaW5lclwiKVswXTtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgIGlmICh0b2RvQ29udGFpbmVyKSB7XG4gICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHRvZG9Db250YWluZXIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBfZGVsZXRlVG9Eb0J1dHRvbiA9IGZ1bmN0aW9uICh0b2RvKSB7XG4gICAgY29uc29sZS5sb2codG9kbyk7XG4gICAgY29uc29sZS5sb2coXCJhYm92ZVwiKTtcbiAgICBjb25zdCB0b2RvQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRvZG8tY29udGFpbmVyXCIpWzBdO1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9IGAke3RvZG8uaWR9IGRlbGV0ZWA7XG4gICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9IFwiZGVsZXRlXCI7XG4gICAgdG9kb0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICB9O1xuXG4gIGNvbnN0IF9zaG93VG9kb3MgPSBmdW5jdGlvbiAodG9kb0FycmF5KSB7XG4gICAgY29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0b2RvLWNvbnRhaW5lclwiKVswXTtcblxuICAgIHRvZG9BcnJheS5mb3JFYWNoKCh0b2RvKSA9PiB7XG4gICAgICBfZGlzcGxheVRpdGxlKHRvZG8sIHRvZG9Db250YWluZXIpO1xuXG4gICAgICBfZGlzcGxheURlc2NyaXB0aW9uKHRvZG8sIHRvZG9Db250YWluZXIpO1xuXG4gICAgICBfZGlzcGxheUR1ZURhdGUodG9kbywgdG9kb0NvbnRhaW5lcik7XG5cbiAgICAgIF9kaXNwbGF5UHJpb3JpdHkodG9kbywgdG9kb0NvbnRhaW5lcik7XG5cbiAgICAgIF9kZWxldGVUb0RvQnV0dG9uKHRvZG8pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHNob3dBbGxUb2RvcyA9IGZ1bmN0aW9uICh0b2RvQXJyYXkpIHtcbiAgICBfZGVsZXRlVG9kb0NvbnRhaW5lcigpO1xuICAgIF9jcmVhdGVUb2RvQ29udGFpbmVyKCk7XG4gICAgX3Nob3dUb2Rvcyh0b2RvQXJyYXkpO1xuICB9O1xuXG4gIGNvbnN0IF9kaXNwbGF5VGl0bGUgPSAodG9EbywgbmV3VG9Eb0RpdikgPT4ge1xuICAgIGNvbnN0IG5ld1RvRG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3VG9Eb1RpdGxlLmlubmVySFRNTCA9IHRvRG8udGl0bGU7XG4gICAgbmV3VG9Eb1RpdGxlLmNsYXNzTmFtZSA9IFwidG9kby10aXRsZVwiO1xuICAgIG5ld1RvRG9EaXYuYXBwZW5kQ2hpbGQobmV3VG9Eb1RpdGxlKTtcbiAgfTtcblxuICBjb25zdCBfZGlzcGxheURlc2NyaXB0aW9uID0gKHRvRG8sIG5ld1RvRG9EaXYpID0+IHtcbiAgICBjb25zdCBuZXdUb0RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1RvRG9EZXNjcmlwdGlvbi5pbm5lckhUTUwgPSB0b0RvLmRlc2NyaXB0aW9uO1xuICAgIG5ld1RvRG9EZXNjcmlwdGlvbi5jbGFzc05hbWUgPSBcInRvZG8tZGVzY3JpcHRpb25cIjtcbiAgICBuZXdUb0RvRGl2LmFwcGVuZENoaWxkKG5ld1RvRG9EZXNjcmlwdGlvbik7XG4gIH07XG5cbiAgY29uc3QgX2Rpc3BsYXlEdWVEYXRlID0gKHRvRG8sIG5ld1RvRG9EaXYpID0+IHtcbiAgICBjb25zdCBuZXdUb0RvRHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3VG9Eb0R1ZURhdGUuaW5uZXJIVE1MID0gdG9Eby5kdWVEYXRlO1xuICAgIG5ld1RvRG9EdWVEYXRlLmNsYXNzTmFtZSA9IFwidG9kby1kdWVkYXRlXCI7XG4gICAgbmV3VG9Eb0Rpdi5hcHBlbmRDaGlsZChuZXdUb0RvRHVlRGF0ZSk7XG4gIH07XG5cbiAgY29uc3QgX2Rpc3BsYXlQcmlvcml0eSA9ICh0b0RvLCBuZXdUb0RvRGl2KSA9PiB7XG4gICAgY29uc3QgbmV3VG9Eb1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuZXdUb0RvUHJpb3JpdHkuaW5uZXJIVE1MID0gdG9Eby5wcmlvcml0eTtcbiAgICBuZXdUb0RvUHJpb3JpdHkuY2xhc3NOYW1lID0gXCJ0b2RvLXByaW9yaXR5XCI7XG4gICAgbmV3VG9Eb0Rpdi5hcHBlbmRDaGlsZChuZXdUb0RvUHJpb3JpdHkpO1xuICB9O1xuXG4gIC8vIGNvbnN0IGRpc3BsYXl0b0RvID0gKHRvRG8pID0+IHtcbiAgLy8gICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAvLyAgIGNvbnN0IG5ld1RvRG9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gIC8vICAgY29udGVudC5hcHBlbmRDaGlsZChuZXdUb0RvRGl2KTtcblxuICAvLyAgIF9kaXNwbGF5VGl0bGUodG9EbywgbmV3VG9Eb0Rpdik7XG5cbiAgLy8gICBfZGlzcGxheURlc2NyaXB0aW9uKHRvRG8sIG5ld1RvRG9EaXYpO1xuXG4gIC8vICAgX2Rpc3BsYXlEdWVEYXRlKHRvRG8sIG5ld1RvRG9EaXYpO1xuXG4gIC8vICAgX2Rpc3BsYXlQcmlvcml0eSh0b0RvLCBuZXdUb0RvRGl2KTtcbiAgLy8gfTtcblxuICBjb25zdCBhc3NpZ25Qcm9qZWN0SWQgPSBmdW5jdGlvbiAocHJvamVjdElkKSB7XG4gICAgY29uc3QgdG9kb0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ldy10b2RvLWZvcm1cIik7XG4gICAgY29uc3QgaGlkZGVuUHJvamVjdElkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGhpZGRlblByb2plY3RJZC50eXBlID0gXCJoaWRkZW5cIjtcbiAgICBoaWRkZW5Qcm9qZWN0SWQuaWQgPSBcInByb2plY3RJZFwiO1xuICAgIGhpZGRlblByb2plY3RJZC5uYW1lID0gXCJwcm9qZWN0SWRcIjtcbiAgICBoaWRkZW5Qcm9qZWN0SWQudmFsdWUgPSBwcm9qZWN0SWQ7XG4gICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQoaGlkZGVuUHJvamVjdElkKTtcbiAgfTtcblxuICByZXR1cm4geyBuZXdUb0RvRm9ybSwgYXNzaWduUHJvamVjdElkLCBzaG93QWxsVG9kb3MgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IFRvRG9Eb20gfTtcbiIsImltcG9ydCB7IERvbVN0dWZmIH0gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQgeyBUb0RvRG9tIH0gZnJvbSBcIi4vdG9Eb0RvbVwiO1xuXG5jb25zdCBWaWV3UHJvamVjdCA9ICgoKSA9PiB7XG4gIGNvbnN0IHZpZXdUaXRsZSA9IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgRG9tU3R1ZmYudmlld1Byb2plY3QocHJvamVjdCk7XG4gIH07XG5cbiAgY29uc3Qgdmlld1RvRG9zID0gZnVuY3Rpb24gKHByb2plY3QpIHtcbiAgICBsZXQgYXJyYXkgPSBwcm9qZWN0LnRvRG9BcnJheTtcbiAgICBpZiAoYXJyYXkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBUb0RvRG9tLnNob3dBbGxUb2RvcyhhcnJheSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7IHZpZXdUaXRsZSwgdmlld1RvRG9zIH07XG59KSgpO1xuXG5leHBvcnQgeyBWaWV3UHJvamVjdCB9O1xuIiwiaW1wb3J0IHsgRG9tU3R1ZmYgfSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7IFZpZXdQcm9qZWN0IH0gZnJvbSBcIi4vdmlld1wiO1xuaW1wb3J0IHsgVG9Eb0RvbSB9IGZyb20gXCIuL3RvRG9Eb21cIjtcbmltcG9ydCB7IFRvRG8gfSBmcm9tIFwiLi90b2RvXCI7XG5cbmNvbnN0IFByb2plY3RNYW5hZ2VyID0gKCgpID0+IHtcbiAgY29uc3QgcHJvamVjdEFycmF5ID0gW107XG4gIGNvbnN0IHByb2plY3RJZCA9IDA7XG4gIGNvbnN0IHRvRG9JZCA9IDA7XG5cbiAgY29uc3Qgc2hvd0FsbFByb2plY3RzID0gKCkgPT4ge1xuICAgIERvbVN0dWZmLmRpc3BsYXlBbGxQcm9qZWN0cyhwcm9qZWN0QXJyYXkpO1xuICAgIFByb2plY3RNYW5hZ2VyLnZpZXdQcm9qZWN0TGlzdGVuZXIoKTtcbiAgfTtcblxuICBjb25zdCB2aWV3UHJvamVjdExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHByb2plY3RBcnJheS5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICBjb25zdCB2aWV3QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgYHZpZXctcHJvamVjdC0ke3Byb2plY3QuaWR9YFxuICAgICAgKVswXTtcbiAgICAgIHZpZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgVmlld1Byb2plY3Qudmlld1RpdGxlKHByb2plY3QpO1xuICAgICAgICBUb0RvRG9tLm5ld1RvRG9Gb3JtKCk7XG4gICAgICAgIFRvRG9Eb20uYXNzaWduUHJvamVjdElkKHByb2plY3QuaWQpO1xuICAgICAgICBjb25zdCB0b2RvID0gVG9EbygpO1xuICAgICAgICB0b2RvLnRvZG9MaXN0ZW5lcigpO1xuICAgICAgICAvLyBUb0RvRG9tLnNob3dBbGxUb2Rvcyhwcm9qZWN0KTtcbiAgICAgICAgcHJvamVjdC5zaG93VG9Eb3MoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2hvd0FsbFByb2plY3RzLFxuICAgIHByb2plY3RBcnJheSxcbiAgICBwcm9qZWN0SWQsXG4gICAgdG9Eb0lkLFxuICAgIHZpZXdQcm9qZWN0TGlzdGVuZXIsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBQcm9qZWN0TWFuYWdlciB9O1xuIiwiaW1wb3J0IHsgUHJvamVjdE1hbmFnZXIgfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlclwiO1xuaW1wb3J0IHsgVmlld1Byb2plY3QgfSBmcm9tIFwiLi92aWV3XCI7XG5cbmNvbnN0IFRvRG8gPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICBjb25zdCB0b0RvU3RhdHVzID0gXCJpbmNvbXBsZXRlXCI7XG4gIGNvbnN0IHByb2plY3RJZCA9IFwiXCI7XG4gIGxldCBpZCA9IFwiXCI7XG5cbiAgY29uc3QgY3JlYXRlID0gKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpID0+IHtcbiAgICBuZXdUb0RvID0gdG9Ebyh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KTtcbiAgfTtcblxuICBjb25zdCBjaGFuZ2UgPSAoZWxlbWVudFRvQ2hhbmdlLCBuZXdWYWx1ZSkgPT4ge1xuICAgIHRoaXNbZWxlbWVudFRvQ2hhbmdlXSA9IG5ld1ZhbHVlO1xuICB9O1xuXG4gIGNvbnN0IGNoYW5nZVREUyA9ICgpID0+IHtcbiAgICB0b0Rvc3RhdHVzID0gY29tcGxldGU7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlVG9kbyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0b2RvVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRvZG9EZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIikudmFsdWU7XG4gICAgY29uc3QgdG9kb0R1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZURhdGVcIikudmFsdWU7XG4gICAgY29uc3QgdG9kb1ByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcbiAgICBjb25zdCB0b2RvUHJvamVjdElkID0gTnVtYmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdElkXCIpLnZhbHVlKTtcbiAgICBjb25zdCBuZXdUb2RvID0gVG9Ebyh0b2RvVGl0bGUsIHRvZG9EZXNjcmlwdGlvbiwgdG9kb0R1ZURhdGUsIHRvZG9Qcmlvcml0eSk7XG4gICAgbmV3VG9kby5wcm9qZWN0SWQgPSB0b2RvUHJvamVjdElkO1xuICAgIG5ld1RvZG8uaWQgPSBpbmNyZWFzZVRvRG9JZCgpO1xuICAgIC8vIG5ld1RvZG8uaWQgPSBQcm9qZWN0TWFuYWdlci50b0RvaWQ7XG4gICAgbGV0IHBhcmVudFByb2plY3QgPSBmaW5kUHJvamVjdCh0b2RvUHJvamVjdElkKTtcbiAgICBwYXJlbnRQcm9qZWN0LnRvRG9BcnJheS5wdXNoKG5ld1RvZG8pO1xuICAgIFZpZXdQcm9qZWN0LnZpZXdUb0RvcyhwYXJlbnRQcm9qZWN0KTtcbiAgICBkZWxldGVCdXR0b25MaXN0ZW5lcihwYXJlbnRQcm9qZWN0KTtcbiAgfTtcblxuICBjb25zdCBmaW5kUHJvamVjdCA9IGZ1bmN0aW9uICh0b2RvUHJvamVjdElkKSB7XG4gICAgbGV0IGZvdW5kUHJvamVjdCA9IFwiXCI7XG4gICAgUHJvamVjdE1hbmFnZXIucHJvamVjdEFycmF5LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgIGlmIChwcm9qZWN0LmlkID09IHRvZG9Qcm9qZWN0SWQpIHtcbiAgICAgICAgZm91bmRQcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmRQcm9qZWN0O1xuICB9O1xuXG4gIGNvbnN0IGRlbGV0ZVRvZG8gPSBmdW5jdGlvbiAoaWQsIHBhcmVudFByb2plY3QpIHtcbiAgICBsZXQgY3VycmVudFRvZG8gPSBcIlwiO1xuICAgIHBhcmVudFByb2plY3QudG9Eb0FycmF5LmZvckVhY2goKHRvZG8pID0+IHtcbiAgICAgIGlmICh0b2RvLmlkID09IGlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiYmVmb3JlIGxlbmd0aFwiKTtcbiAgICAgICAgY29uc29sZS5sb2cocGFyZW50UHJvamVjdC50b0RvQXJyYXkubGVuZ3RoKTtcbiAgICAgICAgY3VycmVudFRvZG8gPSB0b2RvO1xuICAgICAgICBwYXJlbnRQcm9qZWN0LnRvRG9BcnJheSA9IHBhcmVudFByb2plY3QudG9Eb0FycmF5LmZpbHRlcihcbiAgICAgICAgICAoaXRlbSkgPT4gaXRlbSAhPT0gY3VycmVudFRvZG9cbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJhZnRlciBsZW5ndGggXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhwYXJlbnRQcm9qZWN0LnRvRG9BcnJheS5sZW5ndGgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFZpZXdQcm9qZWN0LnZpZXdUb0RvcyhwYXJlbnRQcm9qZWN0KTtcbiAgfTtcblxuICBjb25zdCBkZWxldGVCdXR0b25MaXN0ZW5lciA9IGZ1bmN0aW9uIChwYXJlbnRQcm9qZWN0KSB7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkZWxldGVcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGV0ZUJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlbGV0ZUJ1dHRvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbGV0IGJ1dHRvbmNsYXNzID0gZGVsZXRlQnV0dG9uc1tpXS5jbGFzc05hbWU7XG4gICAgICAgIGJ1dHRvbmNsYXNzID0gYnV0dG9uY2xhc3Muc3BsaXQoXCJcIik7XG4gICAgICAgIGlkID0gYnV0dG9uY2xhc3NbMF07XG4gICAgICAgIGRlbGV0ZVRvZG8oaWQsIHBhcmVudFByb2plY3QpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZG9MaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0b2RvRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3LXRvZG8tZm9ybVwiKTtcbiAgICB0b2RvRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNyZWF0ZVRvZG8oKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBpbmNyZWFzZVRvRG9JZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9qZWN0TWFuYWdlci50b0RvSWQgKz0gMTtcbiAgICBpZCA9IFByb2plY3RNYW5hZ2VyLnRvRG9JZDtcbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBkdWVEYXRlLFxuICAgIHByaW9yaXR5LFxuICAgIHRvRG9TdGF0dXMsXG4gICAgY3JlYXRlLFxuICAgIGNoYW5nZSxcbiAgICB0b0RvU3RhdHVzLFxuICAgIHByb2plY3RJZCxcbiAgICB0b2RvTGlzdGVuZXIsXG4gICAgaWQsXG4gIH07XG59O1xuXG5leHBvcnQgeyBUb0RvIH07XG4iLCJpbXBvcnQgeyBEb21TdHVmZiB9IGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IHsgUHJvamVjdE1hbmFnZXIgfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlclwiO1xuXG5jb25zdCBQcm9qZWN0ID0gKHRpdGxlKSA9PiB7XG4gIGNvbnN0IHRvRG9BcnJheSA9IFtdO1xuICBjb25zdCBpZCA9IFwiXCI7XG5cbiAgY29uc3Qgc2hvd1RvRG9zID0gKCkgPT4ge1xuICAgIHRvRG9BcnJheS5mb3JFYWNoKCh0b0RvKSA9PiB7XG4gICAgICBEb21TdHVmZi5kaXNwbGF5dG9Ebyh0b0RvKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVOZXdQcm9qZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1Byb2plY1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZTtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gUHJvamVjdChuZXdQcm9qZWNUaXRsZSk7XG4gICAgbmV3UHJvamVjdC5pZCA9IFByb2plY3RNYW5hZ2VyLnByb2plY3RJZDtcbiAgICBQcm9qZWN0TWFuYWdlci5wcm9qZWN0QXJyYXkucHVzaChuZXdQcm9qZWN0KTtcbiAgICBQcm9qZWN0TWFuYWdlci5zaG93QWxsUHJvamVjdHMoKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVOZXdQcm9qZWN0Rm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICBEb21TdHVmZi5jcmVhdGVGb3JtKCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlRm9ybUxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1Byb2plY3RGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXctcHJvamVjdC1mb3JtXCIpO1xuICAgIG5ld1Byb2plY3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY3JlYXRlTmV3UHJvamVjdCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGluY3JlYXNlUHJvamVjdElkID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2plY3RNYW5hZ2VyLnByb2plY3RJZCArPSAxO1xuICB9O1xuXG4gIGluY3JlYXNlUHJvamVjdElkKCk7XG5cbiAgcmV0dXJuIHsgdGl0bGUsIHRvRG9BcnJheSwgc2hvd1RvRG9zLCBjcmVhdGVGb3JtTGlzdGVuZXIsIGlkIH07XG59O1xuXG5leHBvcnQgeyBQcm9qZWN0IH07XG4iLCJpbXBvcnQgeyBUb0RvIH0gZnJvbSBcIi4vdG9kb1wiOyAvLyB0b2RlbGV0ZVxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IFByb2plY3RNYW5hZ2VyIH0gZnJvbSBcIi4vcHJvamVjdE1hbmFnZXJcIjtcbmltcG9ydCB7IERvbVN0dWZmIH0gZnJvbSBcIi4vZG9tXCI7XG5cbmNvbnN0IHByb2plY3QgPSBQcm9qZWN0KFwiQUJDXCIpO1xuLy8gY29uc3QgdG9EbyA9IFRvRG8oXCJhYmNcIiwgXCJhYmNcIiwgXCJhYmNcIiwgXCJhYmNcIik7XG5Eb21TdHVmZi5jcmVhdGVQcm9qZWN0c0NvbnRhaW5lcigpO1xuRG9tU3R1ZmYuY3JlYXRlUHJvamVjdEZvcm0oKTtcbi8vIHByb2plY3QudG9Eb0FycmF5LnB1c2godG9Ebyk7XG4vLyBwcm9qZWN0LnNob3dUb0RvcygpO1xuUHJvamVjdE1hbmFnZXIuc2hvd0FsbFByb2plY3RzKCk7XG5wcm9qZWN0LmNyZWF0ZUZvcm1MaXN0ZW5lcigpO1xuIl0sIm5hbWVzIjpbIkRvbVN0dWZmIiwiZGlzcGxheUFsbFByb2plY3RzIiwicHJvamVjdEFycmF5IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicHJvamVjdHNDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImxhc3RDaGlsZCIsIl9yZW1vdmVBbGxQcm9qZWN0cyIsImNyZWF0ZVByb2plY3RzRGl2IiwiaWQiLCJhcHBlbmRDaGlsZCIsIl9jcmVhdGVQcm9qZWN0Q29udGFpbmVyIiwiZm9yRWFjaCIsInByb2plY3QiLCJpbm5lclByb2plY3RzQ29udGFpbmVyIiwibmV3UHJvamVjdENvbnRhaW5lciIsImNsYXNzTmFtZSIsInByb2plY3RUaXRsZSIsImlubmVyVGV4dCIsInRpdGxlIiwidmlld1Byb2plY3QiLCJ0ZXh0Q29udGVudCIsIl9kaXNwbGF5SW5kaXZpZHVhbFByb2plY3QiLCJjb250ZW50IiwiX3JlbW92ZUFsbENvbnRlbnQiLCJ2aWV3UHJvamVjdENvbnRhaW5lciIsImNyZWF0ZVByb2plY3RzQ29udGFpbmVyIiwiY3JlYXRlUHJvamVjdEZvcm0iLCJuZXdQcm9qZWN0Rm9ybUNvbnRhaW5lciIsInByb2plY3RGb3JtIiwidHlwZSIsIm5hbWUiLCJwcm9qZWN0VGl0bGVMYWJlbCIsImh0bWxGb3IiLCJzdWJtaXQiLCJUb0RvRG9tIiwiX2Rpc3BsYXlUaXRsZSIsInRvRG8iLCJuZXdUb0RvRGl2IiwibmV3VG9Eb1RpdGxlIiwiaW5uZXJIVE1MIiwiX2Rpc3BsYXlEZXNjcmlwdGlvbiIsIm5ld1RvRG9EZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiX2Rpc3BsYXlEdWVEYXRlIiwibmV3VG9Eb0R1ZURhdGUiLCJkdWVEYXRlIiwiX2Rpc3BsYXlQcmlvcml0eSIsIm5ld1RvRG9Qcmlvcml0eSIsInByaW9yaXR5IiwibmV3VG9Eb0Zvcm0iLCJjb250YWluZXIiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibmV3VG9kb0Zvcm1Db250YWluZXIiLCJ0b2RvRm9ybSIsInRvZG9UaXRsZUxhYmVsIiwidG9kb1RpdGxlIiwidG9kb0Rlc2NyaXB0aW9uTGFiZWwiLCJ0b2RvRGVzY3JpcHRpb24iLCJ0b2RvRHVlRGF0ZUxhYmVsIiwidG9kb0R1ZURhdGUiLCJ0b2RvUHJpb3JpdHlMYWJlbCIsInRvZG9Qcmlvcml0eSIsImFzc2lnblByb2plY3RJZCIsInByb2plY3RJZCIsImhpZGRlblByb2plY3RJZCIsInZhbHVlIiwic2hvd0FsbFRvZG9zIiwidG9kb0FycmF5IiwidG9kb0NvbnRhaW5lciIsIl9kZWxldGVUb2RvQ29udGFpbmVyIiwiX2NyZWF0ZVRvZG9Db250YWluZXIiLCJ0b2RvIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZUJ1dHRvbiIsIl9kZWxldGVUb0RvQnV0dG9uIiwiX3Nob3dUb2RvcyIsIlZpZXdQcm9qZWN0IiwiYXJyYXkiLCJ0b0RvQXJyYXkiLCJ1bmRlZmluZWQiLCJQcm9qZWN0TWFuYWdlciIsInNob3dBbGxQcm9qZWN0cyIsInZpZXdQcm9qZWN0TGlzdGVuZXIiLCJ0b0RvSWQiLCJhZGRFdmVudExpc3RlbmVyIiwiVG9EbyIsInRvZG9MaXN0ZW5lciIsInNob3dUb0RvcyIsInRvRG9TdGF0dXMiLCJkZWxldGVUb2RvIiwicGFyZW50UHJvamVjdCIsImN1cnJlbnRUb2RvIiwibGVuZ3RoIiwiZmlsdGVyIiwiaXRlbSIsImNyZWF0ZSIsIm5ld1RvRG8iLCJjaGFuZ2UiLCJlbGVtZW50VG9DaGFuZ2UiLCJuZXdWYWx1ZSIsInRoaXMiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidG9kb1Byb2plY3RJZCIsIk51bWJlciIsIm5ld1RvZG8iLCJmb3VuZFByb2plY3QiLCJmaW5kUHJvamVjdCIsInB1c2giLCJkZWxldGVCdXR0b25zIiwiaSIsImJ1dHRvbmNsYXNzIiwic3BsaXQiLCJkZWxldGVCdXR0b25MaXN0ZW5lciIsImNyZWF0ZVRvZG8iLCJQcm9qZWN0IiwiZGlzcGxheXRvRG8iLCJjcmVhdGVGb3JtTGlzdGVuZXIiLCJuZXdQcm9qZWNUaXRsZSIsIm5ld1Byb2plY3QiLCJjcmVhdGVOZXdQcm9qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==